function e(e,n,t){Object.defineProperty(e,n,{get:t,enumerable:!0})}var n={};function t(e,n){n("playerReady",{fireEvent:n})}function r(e,n){n("playerStarted",{fireEvent:n})}function i(e,n){n("playerPaused",{fireEvent:n})}function o(e,n){n("playerProgress:",e.target.currentTime),(e.target.duration.toFixed(0)/2).toFixed()===e.target.currentTime.toFixed(0)&&n("50percent",{fireEvent:n})}function u(e,n){pubSub.triggerEvent("playerPlaying",{fireEvent:n})}function s(e){return video=window.document.createElement("video"),video.src=e,video.controls=!0,video}e(n,"onVideoReady",(function(){return t})),e(n,"onPlay",(function(){return r})),e(n,"onPause",(function(){return i})),e(n,"onTimeupdate",(function(){return o})),e(n,"onPlaying",(function(){return u})),window.acVideo=function(e="",n){if("string"!=typeof e)throw new Error("A string of a url must be used in the constructor argument");const d=function(){const e=document.createElement("div"),n={};return{subscribe:(t,r)=>{"array"!=typeof n[t]&&(n[t]=[]),n[t].push(r),e.addEventListener(t,r)},unsubscribe:(t,r)=>{n[t].splice(n[t].indexOf(r),1),e.removeEventListener(evtName,n[t][n[t].indexOf(r)])},triggerEvent:(n,t)=>{const r=new Event(n);r.data=t,e.dispatchEvent(r)}}}(),a=function(e,n){return e.addEventListener("videoready",(e=>t(0,n.triggerEvent)),!1),e.addEventListener("play",(e=>r(0,n.triggerEvent)),!1),e.addEventListener("pause",(e=>i.bind(e,n.triggerEvent)),!1),e.addEventListener("ended",(e=>({}.bind(e,n.triggerEvent))),!1),e.addEventListener("playing",(e=>u.bind(e,n.triggerEvent)),!1),e.addEventListener("timeupdate",(e=>o(e,n.triggerEvent)),!1),n.subscribe("playVideo",(n=>e.play())),n.subscribe("pauseVideo",(n=>e.pause())),e}(s(e),d);return n.appendChild(Object.freeze(a)),{subscribe:function(e,n){return d.subscribe(e,n),this},unsubscribe:function(e,n){return d.unsubscribe(e,n),this},hideControls:function(){return a.controls=!1,this},showControls:function(){return a.controls=!0,this},play:function(){return d.triggerEvent("playVideo"),this},pause:function(){return d.triggerEvent("pauseVideo"),this}}};
//# sourceMappingURL=index.js.map
